(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/thekeep.0294faef.png"},47:function(e,t,a){e.exports=a(78)},78:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),o=a.n(r),s=a(7),c=a(11),i=a(5),m=a(40),u=a.n(m),d=a(4),p=a(6),g=a.n(p),f=a(36),h=a.n(f),E=a(16),b=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1];return l.a.createElement("div",null,l.a.createElement(E.a,{className:"test"},l.a.createElement(E.a.Toggle,{variant:"",id:"dropdown-basic"},l.a.createElement(h.a,{className:"listicon"})),l.a.createElement(E.a.Menu,null,l.a.createElement(E.a.Item,{href:"#/action-1",onClick:function(){Object(d.c)("/update")}},"Edit Profile"),l.a.createElement(E.a.Item,{href:"#/action-2",onClick:function(){g.a.get("http://localhost:8080/api/v1/logout",{withCredentials:!0}).then((function(e){r(!a),localStorage.clear(),Object(d.c)("/")})).catch((function(e){return console.log(e)}))}},"Logout"))))},w=a(38),v=a.n(w),O=function(e){console.log("navbar prop!!!",e.refs);var t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(""),c=Object(i.a)(s,2),m=c[0],u=c[1];return Object(n.useEffect)((function(){null===localStorage.getItem("userId")?Object(d.c)("/"):g.a.get("http://localhost:8080/api/v1/readOne/".concat(localStorage.getItem("userId")),{withCredentials:!0}).then((function(e){console.log(e),o(e.data)})).catch((function(e){console.log(e),o({}),u("Please login to display data")}))}),[]),l.a.createElement("header",{className:"navheader"},l.a.createElement("img",{className:"thekeepimg",src:v.a,alt:""}),"/"!==e.path?l.a.createElement("div",null,m.length>0?l.a.createElement(d.a,{to:"/"},"Login to view data"):null,l.a.createElement("div",{className:"hamburgericon"},l.a.createElement(b,null)),l.a.createElement("h1",{className:"name"},"Hello ",r.firstName)):null)},j=a(39),N=a.n(j),S=function(e){console.log("the props notes",e.info),console.log("the props refs",e.refs);return l.a.createElement("div",null,void 0!==e.info.tasks&&e.info.tasks.map((function(t,a){return l.a.createElement("div",{className:"note",key:a},l.a.createElement("div",{className:"innNote"},l.a.createElement("button",{onClick:function(a){return function(t,a){console.log("e",t),t.preventDefault(),console.log("the item:",a),console.log("the item _id:",a._id);var n=Object(c.a)({},e.info);n.tasks=n.tasks.filter((function(e){return e._id!==a._id})),g.a.put("http://localhost:8080/api/v1/updateOne/".concat(e.info._id),n,{withCredentials:!0}).then((function(){return e.refs.setRefreshState(!e.refs.refreshState)})).catch((function(e){return console.log(e)}))}(a,t)}},l.a.createElement(N.a,null)),l.a.createElement("h1",null,t.title),l.a.createElement("p",null,t.date.substring(0,10))),l.a.createElement("hr",null),l.a.createElement("div",{className:"p"},l.a.createElement("p",null,t.description)))})))},C=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({title:"",description:"",date:""}),m=Object(i.a)(o,2),p=m[0],f=m[1],h=Object(n.useState)(""),E=Object(i.a)(h,2),b=E[0],w=E[1],v=Object(n.useState)(!1),j=Object(i.a)(v,2),N=j[0],C=j[1];Object(n.useEffect)((function(){null===localStorage.getItem("userId")?Object(d.c)("/"):g.a.get("http://localhost:8080/api/v1/readOne/".concat(localStorage.getItem("userId")),{withCredentials:!0}).then((function(e){console.log(e),r(e.data)})).catch((function(e){console.log(e),r({}),w("Please login to display data")}))}),[N]),console.log("localstorage from home",localStorage.getItem("userId")),console.log("userstate from home",a),console.log("formstate from home",p);var y=function(e){f(Object(c.a)({},p,Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",null,l.a.createElement(O,null),l.a.createElement("div",{className:"home"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Object(c.a)({},a);t.tasks.unshift(p),console.log("temp",t),console.log("temp.tasks",t.tasks),g.a.put("http://localhost:8080/api/v1/updateOne/".concat(localStorage.getItem("userId")),t,{withCredentials:!0}).then((function(e){console.log(e),C(!N),e.data.errors?w({title:e.data.errors.title?e.data.errors.title.message:"",description:e.data.errors.description?e.data.errors.description.message:"",date:e.data.errors.date?e.data.errors.date.message:""}):(console.log("successfully updated the users tasks"),f({title:"",description:"",date:""}),C(!N),Object(d.c)("/home"))})).catch((function(e){console.log("the error:",e)}))}},l.a.createElement("input",{type:"text",name:"title",value:p.title,placeholder:"Title",onChange:y}),""!==b.title?l.a.createElement("p",null,b.title):null,l.a.createElement("input",{type:"date",className:"date",value:p.date,onChange:y,name:"date"}),""!==b.date?l.a.createElement("p",null,b.date):null,l.a.createElement("textarea",{type:"text",name:"description",value:p.description,placeholder:"Write a task down...",rows:"3",onChange:y}),""!==b.description?l.a.createElement("p",null,b.description):null,l.a.createElement("button",{type:"submit"},l.a.createElement(u.a,null))),l.a.createElement(S,{info:a,refs:{refreshState:N,setRefreshState:C}})))},y=a(42),I=a.n(y),P=a(41),k=a.n(P),x=a(20),D=a(43),_=a.n(D),L=function(){var e=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),u=m[0],p=m[1],f=Object(n.useState)(!1),h=Object(i.a)(f,2),E=h[0],b=h[1];Object(n.useEffect)((function(){null===localStorage.getItem("userId")?Object(d.c)("/"):g.a.get("http://localhost:8080/api/v1/readOne/".concat(localStorage.getItem("userId")),{withCredentials:!0}).then((function(e){console.log(e),r(e.data)})).catch((function(e){console.log(e),r({}),p("Please login to display data")}))}),[E]),console.log("localstorage from update",localStorage.getItem("userId")),console.log("userstate from update",a);var w=function(e){r(Object(c.a)({},a,Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",null,l.a.createElement(O,{refs:{refreshState:E,setRefreshState:b}}),l.a.createElement(d.a,{to:"/home"},l.a.createElement(k.a,{className:"back"})),l.a.createElement("div",{className:"updatepage"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Object(c.a)({},a);console.log("temp from update",t),g.a.put("http://localhost:8080/api/v1/updateinfo/".concat(localStorage.getItem("userId")),t,{withCredentials:!0}).then((function(e){console.log(e),b(!E),e.data.errors?p({firstName:e.data.errors.firstName?e.data.errors.firstName.message:"",lastName:e.data.errors.lastName?e.data.errors.lastName.message:"",email:e.data.errors.email?e.data.errors.email.message:"",password:e.data.errors.password?e.data.errors.password.message:"",confirmPassword:e.data.errors.confirmPassword?e.data.errors.confirmPassword.message:""}):(console.log("successfully updated the user info"),b(!E),alert("Profile Updated ".concat(a.firstName)),Object(d.c)("/home"))})).catch((function(e){console.log("the error:",e)}))}},l.a.createElement("h1",null,"Edit Profile"),l.a.createElement("input",{type:"text",name:"firstName",value:a.firstName,onChange:w}),""!==u.firstName?l.a.createElement("p",null,u.firstName):null,l.a.createElement("input",{type:"text",name:"lastName",value:a.lastName,onChange:w}),""!==u.lastName?l.a.createElement("p",null,u.lastName):null,l.a.createElement("input",{type:"text",name:"email",value:a.email,onChange:w}),""!==u.email?l.a.createElement("p",null,u.email):null,l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:w}),""!==u.password?l.a.createElement("p",null,u.password):null,l.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:w}),""!==u.confirmPassword?l.a.createElement("p",null,u.confirmPassword):null,l.a.createElement("button",{type:"submit"},l.a.createElement(I.a,null))),l.a.createElement(x.a,{className:"deleteAccount",variant:"danger",size:"sm",onClick:function(){g.a.delete("http://localhost:8080/api/v1/deleteOne/".concat(localStorage.getItem("userId")),{withCredentials:!0}).then((function(e){console.log(e),console.log("user has been deleted"),localStorage.clear(),Object(d.c)("/")})).catch((function(e){console.log(e)}))}},"Delete Account ",l.a.createElement(_.a,null))))};var R=function(){var e=(new Date).getFullYear();return l.a.createElement("footer",null,l.a.createElement("p",null,"Copyright \u24d2 ",e))},T=a(44),A=a.n(T),W=function(){var e,t=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),a=Object(i.a)(t,2),r=a[0],o=a[1],m=Object(n.useState)([]),u=Object(i.a)(m,2),p=u[0],f=u[1],h=function(e){o(Object(c.a)({},r,Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g.a.post("http://localhost:8080/api/v1/create",r,{withCredentials:!0}).then((function(e){e.data.errors?f({firstName:e.data.errors.firstName?e.data.errors.firstName.message:"",lastName:e.data.errors.lastName?e.data.errors.lastName.message:"",email:e.data.errors.email?e.data.errors.email.message:"",password:e.data.errors.password?e.data.errors.password.message:"",confirmPassword:e.data.errors.confirmPassword?e.data.errors.confirmPassword.message:""}):"Email already exists"===e.data.msg?(console.log(e.data.msg),f({email:"A user with this email is already registered to The Keep"})):(localStorage.setItem("userId",e.data._id),console.log("registration Succsesful"),Object(d.c)("/home"))})).catch((function(e){console.log(e)}))}},l.a.createElement("h1",null,"Register"),l.a.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",onChange:h}),""!==p.firstName?l.a.createElement("p",null,p.firstName):null,l.a.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",onChange:h}),""!==p.lastName?l.a.createElement("p",null,p.lastName):null,l.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:h}),""!==p.email?l.a.createElement("p",null,p.email):null,l.a.createElement("input",(e={type:"text"},Object(s.a)(e,"type","password"),Object(s.a)(e,"name","password"),Object(s.a)(e,"placeholder","Password"),Object(s.a)(e,"onChange",h),e)),""!==p.password?l.a.createElement("p",null,p.password):null,l.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:h}),""!==p.confirmPassword?l.a.createElement("p",null,p.confirmPassword):null,l.a.createElement("button",{type:"submit"},l.a.createElement(A.a,null))))},B=a(45),F=a.n(B),J=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),m=Object(i.a)(o,2),u=m[0],p=m[1],f=function(e){r(Object(c.a)({},a,Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g.a.post("http://localhost:8080/api/v1/login",a,{withCredentials:!0}).then((function(e){console.log(e),e.data.errors?p({email:e.data.errors.email?e.data.errors.email.message:"",password:e.data.errors.password?e.data.errors.password.message:""}):"success"!==e.data.msg?(console.log(e.data.msg),p({email:"This email doesn't exist or password is incorrect"})):(localStorage.setItem("userId",e.data._id),console.log(localStorage.getItem("userId")),console.log("login succsesful"),Object(d.c)("/home"))})).catch((function(e){console.log(e)}))}},l.a.createElement("h1",null,"Login"),""!==u.email?l.a.createElement("p",null,u.email):null,l.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:f}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:f}),l.a.createElement("button",{type:"submit"},l.a.createElement(F.a,null))))},z=function(){return l.a.createElement("div",{className:"wrapper"},l.a.createElement(O,{path:"/"}),l.a.createElement(W,null),l.a.createElement(J,null))};var H=function(){return l.a.createElement("div",null,l.a.createElement(d.b,null,l.a.createElement(z,{path:"/"}),l.a.createElement(C,{path:"/home"}),l.a.createElement(L,{path:"/update"})),l.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.6cc57a4f.chunk.js.map